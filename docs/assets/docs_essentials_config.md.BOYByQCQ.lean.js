import{_ as l,c as t,J as n,w as a,E as o,o as h,m as i,a as s}from"./chunks/framework.B_Y9JRDA.js";const J=JSON.parse('{"title":"Config","description":"","frontmatter":{"title":"Config"},"headers":[],"relativePath":"docs/essentials/config.md","filePath":"docs/essentials/config.md"}'),r={name:"docs/essentials/config.md"},d=i("h1",{id:"config",tabindex:"-1"},[s("Config "),i("a",{class:"header-anchor",href:"#config","aria-label":'Permalink to "Config"'},"​")],-1),k=i("h1",{id:"config-1",tabindex:"-1"},[s("Config "),i("a",{class:"header-anchor",href:"#config-1","aria-label":'Permalink to "Config"'},"​")],-1),c=i("p",null,[s("在实际开发中，我们经常需要存储各种配置信息，比如与数据库的连接信息、各种秘钥等。而配置信息的获取渠道也是多样的，可能是硬编码在代码中，可能是通过"),i("code",null,".env.localhost"),s("文件进行配置，也可能是通过环境变量传递。")],-1),p=i("p",null,[s("In practical development, we often need to store various configuration information, such as database connection information, various keys, etc. The channels for obtaining configuration information are also diverse, which may be hard-coded in the code, configured through the "),i("code",null,".env.localhost"),s(" file, or passed through environment variables.")],-1),u=i("p",null,[s("我们约定俗成，将配置写在 "),i("code",null,"/src/config"),s(" 目录中。配置文件其实就只是一个普通的对象，如下所示：")],-1),g=i("p",null,[s("We have established a convention to write configurations in the "),i("code",null,"/src/config"),s(" directory. The configuration file is actually just a plain object, as shown below:")],-1),E=i("div",{class:"language-ts vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 文件: /src/config/example.ts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," configExample"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  hello: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"world"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"};")])])])],-1),y=i("div",{class:"language-ts vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// file: /src/config/example.ts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," configExample"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  hello: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"world"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"};")])])])],-1),f=i("p",null,"在任何其他位置，我们都可以直接导入此对象来读取配置。我们约定，所有的配置对象都以 config 为开头，这会使我们在编辑器中只要输入 config，就可以找到所有可以选择的配置。",-1),m=i("p",null,'In any other location, we can directly import this object to read the configuration. We agree that all configuration objects start with "config", which allows us to simply type "config" in the editor to find all available configurations.',-1),v=i("h2",{id:"环境变量",tabindex:"-1"},[s("环境变量 "),i("a",{class:"header-anchor",href:"#环境变量","aria-label":'Permalink to "环境变量"'},"​")],-1),_=i("h2",{id:"environment-variables",tabindex:"-1"},[s("environment variables "),i("a",{class:"header-anchor",href:"#environment-variables","aria-label":'Permalink to "environment variables"'},"​")],-1),b=i("p",null,"环境变量是一种常见的配置方式，然而环境变量并不具备具体的类型，所以我们所获取到的环境变量皆为字符串。",-1),F=i("p",null,"Environment variables are a common way of configuration. However, environment variables do not have specific types, so the environment variables we obtain are all in the form of strings.",-1),C=i("p",null,"Milkio 提供了若干方法，可帮助你将环境变量字符串转换为相应的类型。其中第二个参数用于指定在环境变量不存在时所采用的默认值。",-1),A=i("p",null,"Milkio provides several methods to help you convert environment variable strings into their corresponding types. The second parameter is used to specify the default value to be used when the environment variable does not exist.",-1),I=i("div",{class:"language-ts vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 文件: /src/config/example.ts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { env } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "node:process"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { envToBoolean, envToNumber, envToString } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," configExample"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  fooNumber: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToNumber"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"FOO"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  barBoolean: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToBoolean"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"BAR"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"false"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  BazString: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"BAZ"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"hello-world"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"};")])])])],-1),B=i("div",{class:"language-ts vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// file: /src/config/example.ts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { env } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "node:process"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { envToBoolean, envToNumber, envToString } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," configExample"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  fooNumber: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToNumber"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"FOO"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  barBoolean: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToBoolean"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"BAR"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"false"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  BazString: "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"envToString"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(env."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"BAZ"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"hello-world"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"};")])])])],-1),w=i("h2",{id:"指定模式",tabindex:"-1"},[s("指定模式 "),i("a",{class:"header-anchor",href:"#指定模式","aria-label":'Permalink to "指定模式"'},"​")],-1),D=i("h2",{id:"specify-mode",tabindex:"-1"},[s("Specify Mode "),i("a",{class:"header-anchor",href:"#specify-mode","aria-label":'Permalink to "Specify Mode"'},"​")],-1),O=i("p",null,[s("Bun 内置了"),i("a",{href:"https://bun.sh/docs/runtime/env#setting-environment-variables",target:"_blank",rel:"noreferrer"},"环境变量"),s("功能。在默认情况下，Bun 会读取 "),i("code",null,".env"),s(" 文件。假设你在不同的环境中使用不同的环境变量，例如，在本地开发时使用一组环境变量，而在部署时使用另一组，你可以通过指定模式来实现在部署时使用不同的文件名。")],-1),T=i("p",null,[s("Bun has built-in support for "),i("a",{href:"https://bun.sh/docs/runtime/env#setting-environment-variables",target:"_blank",rel:"noreferrer"},"environment variables"),s(". By default, Bun will read the "),i("code",null,".env"),s(" file. If you want to use different environment variables in different environments, such as using a set of environment variables for local development and another set for deployment, you can specify a mode to use a different file name during deployment.")],-1),M=i("p",null,[s("例如，如果你想要使用 "),i("code",null,".env.production"),s(" 文件，你可以通过将环境变量 "),i("code",null,"MODE"),s(" 的值设置为 "),i("code",null,".env.production"),s(" 来实现。")],-1),L=i("p",null,[s("For example, if you want to use the "),i("code",null,".env.production"),s(" file, you can achieve this by setting the value of the "),i("code",null,"MODE"),s(" environment variable to "),i("code",null,".env.production"),s(".")],-1),x=i("p",null,[s("此外，你还可以在执行命令时指定 "),i("code",null,"--mode=.env.production"),s(" 来实现相同的效果。")],-1),P=i("p",null,[s("Additionally, you can achieve the same effect by specifying "),i("code",null,"--mode=.env.production"),s(" when executing the command.")],-1),S=i("h2",{id:"milkio-的配置",tabindex:"-1"},[s("Milkio 的配置 "),i("a",{class:"header-anchor",href:"#milkio-的配置","aria-label":'Permalink to "Milkio 的配置"'},"​")],-1),N=i("h2",{id:"config-with-milkio",tabindex:"-1"},[s("Config with Milkio "),i("a",{class:"header-anchor",href:"#config-with-milkio","aria-label":'Permalink to "Config with Milkio"'},"​")],-1),R=i("p",null,[s("你可能已经注意到了，在你创建完成你的新工程之后，就已经自带了一个 "),i("code",null,"milkio.ts"),s(" 的配置文件，这里面是一些和 Milkio 框架本身有关的配置，你可以随意编辑它，例如修改默认值。")],-1),K=i("p",null,[s("You may have noticed that after creating your new project, it already comes with a "),i("code",null,"milkio.ts"),s(" configuration file. This file contains some configuration related to the Milkio framework itself, and you can freely edit it, such as modifying default values.")],-1),H=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"名称"),i("th",null,"环境变量"),i("th",null,"描述")])]),i("tbody",null,[i("tr",null,[i("td",null,"cwd"),i("td",null,"无"),i("td",null,"当前工程所在的目录")]),i("tr",null,[i("td",null,"debug"),i("td",null,"MILKIO_DEBUG"),i("td",null,"是否开启 debug 模式")]),i("tr",null,[i("td",null,"runMode"),i("td",null,"MILKIO_RUN_MODE"),i("td",null,[s("运行模式，在你的 "),i("code",null,"/index.ts"),s(" 中，会根据不同的运行模式执行不同的操作")])]),i("tr",null,[i("td",null,"apiTestPath"),i("td",null,"MILKIO_API_TEST_PATH"),i("td",null,[s("当 runMode 为 "),i("code",null,"API_TEST"),s(" 时，可以指定 API 测试文件的路径，为空为测试全部的 API")])]),i("tr",null,[i("td",null,"ignorePathLevel"),i("td",null,"MILKIO_IGNORE_PATH_LEVEL"),i("td",null,[s("忽略路径的层级数。在使用一些 Serverless 服务来部署你的应用时，可能会有一些额外的路径，导致你本地开发时，某个 API 可能是 "),i("code",null,"http://localhost/your-path/your-action"),s("，而在部署之后，可能路径就变为了下面这样 "),i("code",null,"https://a-serverless-service.com/your-id/your-project-name/production/your-path/your-action"),s("。这时候，你就可以通过设置 "),i("code",null,"ignorePathLevel"),s(" 来忽略这些额外的路径，使你的应用正常工作")])]),i("tr",null,[i("td",null,"corsAllowMethods"),i("td",null,"MILKIO_CORS_ALLOW_METHODS"),i("td",null,[s("浏览器可能会向你的应用发送一些预检请求，你可以通过设置此值来避免跨域错误，默认为 "),i("code",null,"*")])]),i("tr",null,[i("td",null,"corsAllowHeaders"),i("td",null,"MILKIO_CORS_ALLOW_HEADERS"),i("td",null,[s("浏览器可能会向你的应用发送一些预检请求，你可以通过设置此值来避免跨域错误，默认为 "),i("code",null,"*")])]),i("tr",null,[i("td",null,"corsAllowOrigin"),i("td",null,"MILKIO_CORS_ALLOW_ORIGIN"),i("td",null,[s("浏览器可能会向你的应用发送一些预检请求，你可以通过设置此值来避免跨域错误，默认为 "),i("code",null,"*")])])])],-1),W=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"Name"),i("th",null,"Environment Variable"),i("th",null,"Description")])]),i("tbody",null,[i("tr",null,[i("td",null,"cwd"),i("td",null,"N/A"),i("td",null,"The directory where the project is located.")]),i("tr",null,[i("td",null,"debug"),i("td",null,"MILKIO_DEBUG"),i("td",null,"Whether to enable debug mode.")]),i("tr",null,[i("td",null,"runMode"),i("td",null,"MILKIO_RUN_MODE"),i("td",null,[s("The run mode. In your "),i("code",null,"/index.ts"),s(", different operations will be executed based on different run modes.")])]),i("tr",null,[i("td",null,"apiTestPath"),i("td",null,"MILKIO_API_TEST_PATH"),i("td",null,[s("When the run mode is "),i("code",null,"API_TEST"),s(", you can specify the path to the API test file. If it is empty, all APIs will be tested.")])]),i("tr",null,[i("td",null,"ignorePathLevel"),i("td",null,"MILKIO_IGNORE_PATH_LEVEL"),i("td",null,[s("The number of path levels to ignore. When using some Serverless services to deploy your application, there may be additional paths. For example, an API might be "),i("code",null,"http://localhost/your-path/your-action"),s(" during local development, but after deployment, the path might become "),i("code",null,"https://a-serverless-service.com/your-id/your-project-name/production/your-path/your-action"),s(". In this case, you can ignore these additional paths by setting "),i("code",null,"ignorePathLevel"),s(" to make your application work properly.")])]),i("tr",null,[i("td",null,"corsAllowMethods"),i("td",null,"MILKIO_CORS_ALLOW_METHODS"),i("td",null,[s("The browser may send preflight requests to your application. You can avoid cross-origin errors by setting this value. Default is "),i("code",null,"*"),s(".")])]),i("tr",null,[i("td",null,"corsAllowHeaders"),i("td",null,"MILKIO_CORS_ALLOW_HEADERS"),i("td",null,[s("The browser may send preflight requests to your application. You can avoid cross-origin errors by setting this value. Default is "),i("code",null,"*"),s(".")])]),i("tr",null,[i("td",null,"corsAllowOrigin"),i("td",null,"MILKIO_CORS_ALLOW_ORIGIN"),i("td",null,[s("The browser may send preflight requests to your application. You can avoid cross-origin errors by setting this value. Default is "),i("code",null,"*"),s(".")])])])],-1);function j(G,V,U,Y,$,q){const e=o("I18N");return h(),t("div",null,[n(e,null,{default:a(()=>[d,k,c,p,u,g,E,y,f,m,v,_,b,F,C,A,I,B,w,D,O,T,M,L,x,P,S,N,R,K,H,W]),_:1})])}const Z=l(r,[["render",j]]);export{J as __pageData,Z as default};
