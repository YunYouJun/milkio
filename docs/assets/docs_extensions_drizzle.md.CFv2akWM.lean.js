import{_ as h,c as n,J as t,w as l,a4 as e,E as k,o as p,m as s,a as i}from"./chunks/framework.B_Y9JRDA.js";const Vs=JSON.parse('{"title":"Drizzle","description":"","frontmatter":{"title":"Drizzle"},"headers":[],"relativePath":"docs/extensions/drizzle.md","filePath":"docs/extensions/drizzle.md"}'),r={name:"docs/extensions/drizzle.md"},d=s("h1",{id:"drizzle",tabindex:"-1"},[i("Drizzle "),s("a",{class:"header-anchor",href:"#drizzle","aria-label":'Permalink to "Drizzle"'},"​")],-1),E=s("h1",{id:"drizzle-1",tabindex:"-1"},[i("Drizzle "),s("a",{class:"header-anchor",href:"#drizzle-1","aria-label":'Permalink to "Drizzle"'},"​")],-1),o=s("p",null,[s("a",{href:"https://orm.drizzle.team/",target:"_blank",rel:"noreferrer"},"Drizzle"),i(" 是一个非常棒的 TypeScript ORM 库，可以帮助我们更轻松地和数据库打交道。Milkio 提供了与 Drizzle 结合的方式，只需要安装这个包即可。")],-1),g=s("p",null,[s("a",{href:"https://orm.drizzle.team/",target:"_blank",rel:"noreferrer"},"Drizzle"),i(" is a fantastic TypeScript ORM library that helps us interact with databases more easily. Milkio provides a way to integrate with Drizzle, just install this package.")],-1),y=s("div",{class:"language-sh vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"sh"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bun"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," i"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," milkio-drizzle")])])])],-1),c=s("div",{class:"language-sh vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"sh"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bun"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," i"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," milkio-drizzle")])])])],-1),F=s("h2",{id:"为什么需要使用-drizzle",tabindex:"-1"},[i("为什么需要使用 Drizzle？ "),s("a",{class:"header-anchor",href:"#为什么需要使用-drizzle","aria-label":'Permalink to "为什么需要使用 Drizzle？"'},"​")],-1),u=s("h2",{id:"why-do-we-need-to-use-drizzle",tabindex:"-1"},[i("Why do we need to use Drizzle? "),s("a",{class:"header-anchor",href:"#why-do-we-need-to-use-drizzle","aria-label":'Permalink to "Why do we need to use Drizzle?"'},"​")],-1),m=s("p",null,[i("数据库使用 SQL 作为语言，尽管单独使用它很简单，但是，当我们在代码中编写 SQL 时，就会感到很麻烦。因为 SQL 是字符串，没有语法高亮、自动补全和错误提示，这会让我们很痛苦。同时，还容易产生漏洞，遭到 "),s("a",{href:"https://en.wikipedia.org/wiki/SQL_injection",target:"_blank",rel:"noreferrer"},"SQL 注入"),i("。Drizzle 和其他 ORM 库都在为我们解决这些问题，让我们和数据库打起交道来更加地容易。")],-1),b=s("p",null,"Databases use SQL as their language, and although it is easy to use on its own, it becomes cumbersome when we write SQL in our code. This is because SQL is just a string and lacks syntax highlighting, auto-completion, and error checking, which can be frustrating. Additionally, it is prone to vulnerabilities such as SQL injection. Drizzle and other ORM libraries aim to address these issues and make interacting with databases much easier.",-1),C=s("h2",{id:"入门",tabindex:"-1"},[i("入门 "),s("a",{class:"header-anchor",href:"#入门","aria-label":'Permalink to "入门"'},"​")],-1),_=s("h2",{id:"get-started",tabindex:"-1"},[i("Get Started "),s("a",{class:"header-anchor",href:"#get-started","aria-label":'Permalink to "Get Started"'},"​")],-1),B=s("p",null,"在使用 Drizzle 之前，你需要先安装 Drizzle 和它所需要的依赖，根据数据库不同，所需要的依赖也不同。",-1),D=s("p",null,"Before using Drizzle, you need to install Drizzle and its dependencies. The required dependencies vary depending on the database.",-1),A=e("",1),f=s("h2",{id:"创建用户表",tabindex:"-1"},[i("创建用户表 "),s("a",{class:"header-anchor",href:"#创建用户表","aria-label":'Permalink to "创建用户表"'},"​")],-1),v=s("h2",{id:"create-user-table",tabindex:"-1"},[i("Create User Table "),s("a",{class:"header-anchor",href:"#create-user-table","aria-label":'Permalink to "Create User Table"'},"​")],-1),z=s("p",null,[i("我们先建立一个 "),s("code",null,"/src/databases"),i(" 目录，我们会在这个目录中编写数据库表的结构。创建完成后，我们编写一个 "),s("code",null,"user-table.ts"),i(" 文件，来存储我们的用户数据：")],-1),q=s("p",null,[i("First, let's create a "),s("code",null,"/src/databases"),i(" directory where we will write the structure of the database tables. Once created, we will write a "),s("code",null,"user-table.ts"),i(" file to store our user data.")],-1),T=e("",1),P=s("h2",{id:"自动导出数据库表",tabindex:"-1"},[i("自动导出数据库表 "),s("a",{class:"header-anchor",href:"#自动导出数据库表","aria-label":'Permalink to "自动导出数据库表"'},"​")],-1),x=s("h2",{id:"auto-export-database-tables",tabindex:"-1"},[i("Auto-Export Database Tables "),s("a",{class:"header-anchor",href:"#auto-export-database-tables","aria-label":'Permalink to "Auto-Export Database Tables"'},"​")],-1),w=s("p",null,[i("得益于 Milkio 的 "),s("a",{href:"/milkio/docs/generation-phase.html"},"生成阶段"),i("，我们可以将数据库表分开建立的同时，又不用手动编写一个文件将所有的数据库表结合在一起。我们在 "),s("code",null,"/milkio.toml"),i(" 的 "),s("code",null,"generate"),i(" 配置中，在 "),s("code",null,"significant"),i(" 中添加下面的命令，这样在我们每次修改完文件后，Milkio 就会自动读取 "),s("code",null,"/src/databases"),i(" 目录，并将所有的 "),s("code",null,".ts"),i(" 文件都在 "),s("code",null,"/generated/database-schema.ts"),i(" 中合并。")],-1),S=s("p",null,[i("Thanks to Milkio "),s("a",{href:"/milkio/docs/generation-phase.html"},"Generation Phase"),i(", we can separate the creation of database tables without manually writing a file to combine all the database tables together. In the "),s("code",null,"generate"),i(" configuration in "),s("code",null,"/milkio.toml"),i(", we add the following command in "),s("code",null,"significant"),i(", so that every time we finish modifying the files, Milkio will automatically read the "),s("code",null,"/src/databases"),i(" directory and merge all the "),s("code",null,".ts"),i(" files into "),s("code",null,"/generated/database-schema.ts"),i(".")],-1),I=s("div",{class:"language-toml vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"toml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"["),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"generate"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"significant = ["),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'./node_modules/milkio-drizzle/g.ts'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])])],-1),M=s("div",{class:"language-toml vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"toml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"["),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"generate"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"significant = ["),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'./node_modules/milkio-drizzle/g.ts'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])])],-1),R=s("h2",{id:"数据库配置",tabindex:"-1"},[i("数据库配置 "),s("a",{class:"header-anchor",href:"#数据库配置","aria-label":'Permalink to "数据库配置"'},"​")],-1),N=s("h2",{id:"database-configuration",tabindex:"-1"},[i("Database configuration "),s("a",{class:"header-anchor",href:"#database-configuration","aria-label":'Permalink to "Database configuration"'},"​")],-1),L=s("p",null,[i("接下来，我们编写数据库的连接信息。我们在 "),s("code",null,"/src/config"),i(" 目录下，创建一个 "),s("code",null,"drizzle.ts"),i(" 文件，并将数据库的连接信息填写在里面。")],-1),Q=s("p",null,[i("Next, we will write the connection information for the database. We create a file called "),s("code",null,"drizzle.ts"),i(" in the "),s("code",null,"/src/config"),i(" directory and fill in the database connection information in it.")],-1),O=e("",1),U=s("p",null,[i("在你的 "),s("code",null,"/src/uses"),i(" 目录中，创建一个 "),s("code",null,"drizzle.ts"),i("，并将下面的代码粘贴进去。下面的示例代码是 MySQL 的，你可能需要阅读 "),s("a",{href:"https://orm.drizzle.team/docs/get-started-postgresql",target:"_blank",rel:"noreferrer"},"Drizzle Get Started"),i("，根据你实际所使用的数据库或者在使用的 serverless 提供商来修改下面的代码。总而言之，就是将 Drizzle 放到 Milkio 的 "),s("a",{href:"/milkio/docs/essentials/use.html"},"Use"),i(" 里。")],-1),V=s("p",null,[i("In your "),s("code",null,"/src/uses"),i(" directory, create a "),s("code",null,"drizzle.ts"),i(" file and paste the following code into it. The example code below is for MySQL, you may need to refer to "),s("a",{href:"https://orm.drizzle.team/docs/get-started-postgresql",target:"_blank",rel:"noreferrer"},"Drizzle Get Started"),i(" and modify the code based on the database you are actually using or the serverless provider you are using. In short, put Drizzle into Milkio's "),s("a",{href:"/milkio/docs/essentials/use.html"},"Use"),i(".")],-1),$=e("",1),G=s("h2",{id:"编写-api",tabindex:"-1"},[i("编写 API "),s("a",{class:"header-anchor",href:"#编写-api","aria-label":'Permalink to "编写 API"'},"​")],-1),H=s("h2",{id:"write-api",tabindex:"-1"},[i("Write API "),s("a",{class:"header-anchor",href:"#write-api","aria-label":'Permalink to "Write API"'},"​")],-1),j=s("p",null,"假设我们编写一个创建的 API，得益于 Drizzle 完善的类型系统，我们可以很轻易地限制 API 的 params 和数据库表结构一致。",-1),W=s("p",null,"Assuming we are developing an API using Drizzle's robust type system, we can easily enforce consistency between the API's parameters and the database table structure.",-1),J=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { defineApi } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { DBInsert } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio-drizzle"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { userTable } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "../generated/database-schema"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," api"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineApi"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  meta: {},")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  async"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," action"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    params"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"      user"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," DBInsert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable>;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    context")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," drizzle"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," await"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useDrizzle"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    await"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," drizzle."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"insert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(userTable)."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"values"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(params.user)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")])])])],-1),K=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { defineApi } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { DBInsert } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "milkio-drizzle"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { userTable } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "../generated/database-schema"')]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," api"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineApi"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  meta: {},")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  async"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," action"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    params"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"      user"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," DBInsert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable>;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    context")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," drizzle"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," await"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useDrizzle"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    await"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," drizzle."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"insert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(userTable)."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"values"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(params.user)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")])])])],-1),X=s("h2",{id:"更多类型",tabindex:"-1"},[i("更多类型 "),s("a",{class:"header-anchor",href:"#更多类型","aria-label":'Permalink to "更多类型"'},"​")],-1),Y=s("h2",{id:"more-types",tabindex:"-1"},[i("More Types "),s("a",{class:"header-anchor",href:"#more-types","aria-label":'Permalink to "More Types"'},"​")],-1),Z=s("p",null,"Milkio 提供了一些辅助类型，帮助你在 API 中更好地对 params 做限制。",-1),ss=s("p",null,"Milkio provides some auxiliary types to help you better restrict params in the API.",-1),is=s("h3",{id:"dbinsert",tabindex:"-1"},[i("DBInsert "),s("a",{class:"header-anchor",href:"#dbinsert","aria-label":'Permalink to "DBInsert"'},"​")],-1),as=s("h3",{id:"dbinsert-1",tabindex:"-1"},[i("DBInsert "),s("a",{class:"header-anchor",href:"#dbinsert-1","aria-label":'Permalink to "DBInsert"'},"​")],-1),ts=s("p",null,"插入数据的类型，最常用，和你数据库表所定义的类型相同。",-1),ls=s("p",null,"The most commonly used type for inserting data is the same as the type defined in your database table.",-1),es=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBInsert"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),hs=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBInsert"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),ns=s("h3",{id:"dbselect",tabindex:"-1"},[i("DBSelect "),s("a",{class:"header-anchor",href:"#dbselect","aria-label":'Permalink to "DBSelect"'},"​")],-1),ks=s("h3",{id:"dbselect-1",tabindex:"-1"},[i("DBSelect "),s("a",{class:"header-anchor",href:"#dbselect-1","aria-label":'Permalink to "DBSelect"'},"​")],-1),ps=s("p",null,"取出数据的类型，和你数据库表所定义的类型相同。",-1),rs=s("p",null,"Retrieve the data with the same data type as defined in your database table.",-1),ds=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBSelect"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),Es=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBSelect"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),os=s("h3",{id:"dbpartial",tabindex:"-1"},[i("DBPartial "),s("a",{class:"header-anchor",href:"#dbpartial","aria-label":'Permalink to "DBPartial"'},"​")],-1),gs=s("h3",{id:"dbpartial-1",tabindex:"-1"},[i("DBPartial "),s("a",{class:"header-anchor",href:"#dbpartial-1","aria-label":'Permalink to "DBPartial"'},"​")],-1),ys=s("p",null,"将数据库表中所有的字段都变为可选的，通常用于允许增量提交的更新 API 中。",-1),cs=s("p",null,"Make all fields in the database table optional, typically used for allowing incremental updates in the API.",-1),Fs=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBPartial"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),us=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBPartial"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),ms=s("h2",{id:"dbomit",tabindex:"-1"},[i("DBOmit "),s("a",{class:"header-anchor",href:"#dbomit","aria-label":'Permalink to "DBOmit"'},"​")],-1),bs=s("h2",{id:"dbomit-1",tabindex:"-1"},[i("DBOmit "),s("a",{class:"header-anchor",href:"#dbomit-1","aria-label":'Permalink to "DBOmit"'},"​")],-1),Cs=s("p",null,[i("删除数据库表中的字段，通常用于防止部分字段被更新，如 "),s("code",null,"id"),i("、"),s("code",null,"createdAt"),i(" 等，以及避免和权限相关的字段被更新，例如 "),s("code",null,"isAdmin"),i("。")],-1),_s=s("p",null,[i("Deleting fields from a database table is commonly used to prevent certain fields from being updated, such as "),s("code",null,"id"),i(" and "),s("code",null,"created_at"),i(", as well as to avoid updating fields related to permissions, such as "),s("code",null,"isAdmin"),i(".")],-1),Bs=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBOmit"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable, "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'id'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'createdAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'updatedAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'deletedAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),Ds=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBOmit"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable, "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'id'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'createdAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'updatedAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'deletedAt'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),As=s("h3",{id:"dbreplace",tabindex:"-1"},[i("DBReplace "),s("a",{class:"header-anchor",href:"#dbreplace","aria-label":'Permalink to "DBReplace"'},"​")],-1),fs=s("h3",{id:"dbreplace-1",tabindex:"-1"},[i("DBReplace "),s("a",{class:"header-anchor",href:"#dbreplace-1","aria-label":'Permalink to "DBReplace"'},"​")],-1),vs=s("p",null,"将数据库表中部分字段的类型替换。",-1),zs=s("p",null,"Replace the data types of certain fields in the database table.",-1),qs=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBReplace"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable, { name: number }"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),Ts=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DBReplace"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<typeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," userTable, { name: number }"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")])])])],-1),Ps=s("h2",{id:"下一步",tabindex:"-1"},[i("下一步? "),s("a",{class:"header-anchor",href:"#下一步","aria-label":'Permalink to "下一步?"'},"​")],-1),xs=s("h2",{id:"next",tabindex:"-1"},[i("Next? "),s("a",{class:"header-anchor",href:"#next","aria-label":'Permalink to "Next?"'},"​")],-1),ws=s("p",null,[i("阅读 "),s("a",{href:"https://orm.drizzle.team/",target:"_blank",rel:"noreferrer"},"Drizzle"),i(" 的文档吧！这样你就可以了解它的详细用法了。")],-1),Ss=s("p",null,[i("Read the documentation for "),s("a",{href:"https://orm.drizzle.team/",target:"_blank",rel:"noreferrer"},"Drizzle"),i("! This way, you can learn about its detailed usage.")],-1);function Is(Ms,Rs,Ns,Ls,Qs,Os){const a=k("I18N");return p(),n("div",null,[t(a,null,{default:l(()=>[d,E,o,g,y,c,F,u,m,b,C,_,B,D]),_:1}),A,t(a,null,{default:l(()=>[f,v,z,q]),_:1}),T,t(a,null,{default:l(()=>[P,x,w,S,I,M,R,N,L,Q]),_:1}),O,t(a,null,{default:l(()=>[U,V]),_:1}),$,t(a,null,{default:l(()=>[G,H,j,W,J,K,X,Y,Z,ss,is,as,ts,ls,es,hs,ns,ks,ps,rs,ds,Es,os,gs,ys,cs,Fs,us,ms,bs,Cs,_s,Bs,Ds,As,fs,vs,zs,qs,Ts,Ps,xs,ws,Ss]),_:1})])}const $s=h(r,[["render",Is]]);export{Vs as __pageData,$s as default};
